webpackJsonp([10],{NPcR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mvHQ"),r=a.n(n),o=a("Wxq9"),l={data:function(){return{loading:!1,form:{chinaArea:[],createdTime:[]},tableData:[],tablePageData:[],currentPage:1,total:0}},methods:{handleCurrentChange:function(e){this.currentPage=e,this.getTablePageData()},handleConfirm:function(e,t){var a=localStorage.getItem("appointData")?JSON.parse(localStorage.getItem("appointData")):[];for(var n in a)t.phone==a[n].phone&&t.id==a[n].id&&(a[n].apppintment=!0);localStorage.setItem("appointData",r()(a)),this.getTablePageData()},codetotext:function(e){for(var t="",a=0;a<e.length;a++)t+=o.CodeToText[e[a]]+(a==e.length-1?"":" / ");return t},getTablePageData:function(e){var t=this;t.loading=!0;var a=localStorage.getItem("tableData")?JSON.parse(localStorage.getItem("tableData")):[],n=localStorage.getItem("appointData")?JSON.parse(localStorage.getItem("appointData")):[],r=[];for(var o in n)for(var l in a)if(n[o].id==a[l].id){var i=a[l];i.time=n[o].time,i.apppintment=n[o].apppintment,i.phone=n[o].phone,i.chinaArea=t.codetotext(i.chinaArea),r.push(i)}setTimeout(function(){t.loading=!1,t.total=r.length,t.currentPage=e?1:t.currentPage,t.tablePageData=r.splice(5*(t.currentPage-1),5)},500)}},created:function(){this.getTablePageData()},mounted:function(){}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tablePageData,"element-loading-text":"加载中","element-loading-background":"rgba(241, 245, 248, 0.5)"}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"房源信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom",width:"250"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",[e._v("面积: "+e._s(t.row.area)+"平米")]),e._v(" "),a("p",[e._v("价格: "+e._s(t.row.price)+"元/月")]),e._v(" "),a("p",[e._v("楼层: "+e._s(t.row.height)+"层")]),e._v(" "),a("p",[e._v("总楼层: "+e._s(t.row.maxHeight)+"层")])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("卧室数量: "+e._s(t.row.bedRoom)+"室")]),e._v(" "),a("p",[e._v("建筑时间: "+e._s(t.row.createdTime.split("-")[0])+"年")]),e._v(" "),a("p",[e._v("房间朝向: "+e._s(t.row.orientation))]),e._v(" "),a("p",[e._v("租赁方式: "+e._s(t.row.lease))])])],1),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\r\n              "+e._s(t.row.chinaArea)+" "+e._s(t.row.address)+"\r\n            ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom"}},[a("p",[e._v("手机号: "+e._s(t.row.phone))]),e._v(" "),a("p",[e._v("预约时间: "+e._s(t.row.time))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v("\r\n              "+e._s(t.row.phone)+"\r\n            ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.apppintment?"success":"danger"}},[e._v(e._s(t.row.apppintment?"已确认":"待确认"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.apppintment?e._e():a("el-button",{attrs:{size:"small",icon:"el-icon-check"},on:{click:function(a){e.handleConfirm(t.$index,t.row)}}},[e._v("确认预约")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var s=a("VU/8")(l,i,!1,function(e){a("yrN2")},"data-v-8b91e15a",null);t.default=s.exports},yrN2:function(e,t){}});
//# sourceMappingURL=10.3191b92660c6825f3067.js.map